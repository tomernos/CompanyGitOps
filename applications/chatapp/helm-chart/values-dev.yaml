# =========================================
# ChatApplication - Development Environment Values
# =========================================
# This file overrides values.yaml for dev environment

backend:
  enabled: true
  monitoring:
    enabled: true  # Enable Prometheus scraping
    scrapeInterval: 15s
    scrapeTimeout: 10s
  env:
    # OpenTelemetry - override namespace for dev environment
    OTEL_SERVICE_NAMESPACE: "chatapp-dev"

frontend:
  enabled: true
  env:
    # Frontend needs correct backend URL to connect
    API_URL: http://chatapp-backend:5000
    BACKEND_URL: http://chatapp-backend:5000  # For nginx.conf proxy_pass substitution

ingress:
  enabled: true  # Ensure ingress is enabled for dev
  # Hosts array - supports multiple hosts
  hosts:
    - host: chatapp-dev.tomernos.xyz
      paths:
        - path: /api
          pathType: Prefix
          serviceName: chatapp-backend
          servicePort: 5000
        - path: /
          pathType: Prefix
          serviceName: chatapp-frontend
          servicePort: 80
    # Example: Add more hosts as needed (e.g., separate API domain)
    # - host: api-dev.tomernos.xyz
    #   paths:
    #     - path: /
    #       pathType: Prefix
    #       serviceName: chatapp-backend
    #       servicePort: 5000
  
  # TLS - hosts will be automatically collected from ingress.hosts if not specified
  tls:
    - secretName: chatapp-tls
      # hosts: []  # Empty = use all hosts from ingress.hosts (automatic)

